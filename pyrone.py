import sys
import asyncio

from os import execle, getenv, environ

from pyrogram import Client, filters, idle
from pyrogram.types import Message
from pyrogram.handlers import MessageHandler
from pyrogram.errors import FloodWait


# ------------- SESSIONS -------------

SESSION1 = getenv('SESSION1', default=None)
SESSION2 = getenv('SESSION2', default=None)
SESSION3 = getenv('SESSION3', default=None)
SESSION4 = getenv('SESSION4', default=None)
SESSION5 = getenv('SESSION5', default=None)


# ------------- CLIENTS -------------

if SESSION1:
    M1 = Client(SESSION1, api_id=25981592, api_hash="709f3c9d34d83873d3c7e76cdd75b866")
else:
    M1 = None

if SESSION2:
    M2 = Client(SESSION2, api_id=25981592, api_hash="709f3c9d34d83873d3c7e76cdd75b866")
else:
    M2 = None

if SESSION3:
    M3 = Client(SESSION3, api_id=25981592, api_hash="709f3c9d34d83873d3c7e76cdd75b866")
else:
    M3 = None

if SESSION4:
    M4 = Client(SESSION4, api_id=25981592, api_hash="709f3c9d34d83873d3c7e76cdd75b866")
else:
    M4 = None

if SESSION5:
    M5 = Client(SESSION5, api_id=25981592, api_hash="709f3c9d34d83873d3c7e76cdd75b866")
else:
    M5 = None


ONE_WORDS = ["π™π™€π™π™„", "π™πΌπΌ", "π™†π™„", "πΎπ™ƒπ™π™", "πΌπ™…πΌ", "π™π™€π™π™„", "π™πΌπΌ", "π™†π™„", "πΎπ™ƒπ™π™", "π™πΌπΌπΏ", "πΏπ™π™‰π™‚πΌ", "π™ƒπ™„π™…πΏπ™€", "π™π™€π™πΌ", "π½πΌπΌπ™‹",
           "π™ƒπ™", "π™†π™„πΏπ™“π™“", "π™π™‹π™€π™€πΏ", "π™‹πΌπ™†πΌπΏ", "π½π™ƒπ™€π™‰ π™†π™€ π™‡πΌπ™πΏπ™€", "πΌπΌ π½π™€π™πΌ", "πΌπΌπ™‚π™”πΌ", "π™π™€π™π™„", "π™πΌπΌ ", "πΎπ™ƒπ™πΏπ™‰π™€",
           "πΌπ½", "π™π™€π™π™„ ", "π™πΌπΌ", "πΎπ™ƒπ™πΏπ™€π™‚π™„", "π™†π™π™π™π™€", "π™†π™„", "π™πΌπ™πΌπ™ƒ", "π½π™€π™πΌ", "π™π™€π™π™„", "π™πΌπΌ", "π™†π™€", "π½π™ƒπ™π™πΏπ™€",
           "π™π™€", "π™…π½π™‡", "π™†π™€", "π™π™‹π™€πΌπ™†π™€π™", "πΏπΌπΌπ™‡", "π™†πΌπ™", "π½πΌπ™π™", "π½π™π™π™π™π™€πΏ", "π™π™π™‰π™‚", "π™π™π™‰π™π™‰π™‚πΌ", "π™‹π™π™π™„",
           "π™πΌπΌπ™", "π™‡πΌπ™‚πΌπ™πΌπ™", "π™π™€π™π™„", "π™πΌπΌ", "π™†π™€", "π™πΌπ™π™ƒ", "π™π™€π™“", "π™†πΌπ™π™π™‰π™‚πΌπ”¥", "π™π™€π™π™„", "π™πΌπΌ", "π™†π™€", "π½π™π™π½π™",
           "πΏπΌπ½πΌπ™π™‰π™‚πΌ","π™“π™“π™“","π™π™€π™π™„","π™πΌπΌ","π™†πΌπΌ","πΎπ™ƒπ™π™","π™πΌπ™π™","π™πΌπ™‰πΏπ™„","π™†π™€π™€","π™‹π™„π™‡π™€π™€","π™π™€π™π™„","π™πΌπΌ","π™†πΌπΌ","π½π™ƒπ™π™πΏπΌπΌ",
           "π™πΌπ™π™","π™π™πΌπ™","π™†π™€π™€","πΎπ™ƒπ™πΏπ™€","π™π™€π™π™„","π™πΌπΌπΌ","π™†π™€π™€π™€","π™‰π™πΏπ™€π™","π½π™€πΎπ™ƒπ™π™‰π™‚πΌ","π™πΌπ™‰πΏπ™„","π™†π™€π™€","π™‹π™„π™‡π™‡π™€","π™π™€π™π™„","π™πΌπΌπΌ",
           "πΎπ™ƒπ™πΏπ™","π™π™πΌπ™","π™†π™€π™€π™€","π™‹π™„π™‡π™€π™€","π™π™€π™π™„π™„π™„","π™πΌπΌπΌ","πΏπΌπ™„π™‡π™”π™”","πΎπ™ƒπ™πΏπ™π™π™„","π™ƒπΌπ™„π™„","π™πΌπΏπ™ƒπΌπ™πΎπ™ƒπ™πΏ","πΌπ™π™†πΌπ™","π½πΌπ™‰πΌπΌ",
           "π™‡π™πΏπ™€","π™π™€π™πΌπΌ","π½πΌπΌπ™‹","π™ƒπ™π™","π™π™€π™π™„","π™‚π™π™","π™†πΌπΌ","π½π™ƒπ™π™πΏπΌπΌ","π™πΌπ™π™π™","π™πΌπΏπ™ƒπΌπ™πΎπ™ƒπ™πΏ","π™π™€π™π™„ ","π™‰πΌπ™‰πΌπ™„","π™†πΌπΌ",
           "πΎπ™ƒπ™π™π™","π™πΌπ™π™","π™π™€π™π™„π™„","π½π™€π™ƒπ™€π™‰","π™†πΌπΌπΌ","π½π™ƒπ™π™πΏπΌπΌ","π™πΌπ™π™","π™πΌπ™‰πΏπ™„π™„","π™†π™€π™€π™€","πΎπ™ƒπ™πΏπ™€","π™π™€π™π™„","πΏπΌπΏπ™„","π™†πΌπΌπΌ","π½π™π™π™",
           "π™‚πΌπ™πΌπ™","π™†πΌπ™π™","π™π™€π™π™€","π™‹π™π™π™€π™€","π™†π™ƒπΌπ™‰πΏπΌπ™‰","π™†π™π™π™","πΎπ™ƒπ™πΏπ™π™‰π™‚πΌπΌ","π½πΌπΌπ™‹","π™π™€π™€","π½πΌπ™†πΎπ™ƒπ™πΏπ™„","π™†πΌπ™π™€π™‚πΌπΌ","π™π™πΌπ™π™",
           "π™†π™€π™€π™€","π™‹π™„π™‡π™‡π™€π™€","π™‰πΌπΌπ™†","π™π™€π™€π™€","π™‰π™€π™πΌπΌ","π½πΌπΌπ™‹","π™†π™π™","π™†πΌπ½π™ƒπ™„π™„","π™‰πΌπΌπ™ƒ","π½π™π™‡π™‰πΌπΌ","π½π™€π™πΌπΌ","πΎπ™ƒπ™π™π™","π™‡π™€π™€π™€",
           "π™π™€π™πΌπΌ","π™‡π™πΏπΌπΌ","π™…πΌπ™„π™π™€","πΌπ™‡π™π™","π™†πΌπΌπΌ","π™‹πΌπ™†π™πΏπΌπΌ","π™π™€π™π™„","π™πΌπΌπΌ","π½π™€π™ƒπ™€π™‰","π™‚π™π™","π™‰πΌπ™‰π™„","πΏπ™„π™„π™‰","π™πΌπΌπ™","π™π™π™π™€π™€",
           "π™…πΌπ™‚π™π™€π™€","π™‹π™€π™‡π™πΌπΌ","π™ƒπ™π™π™","π™‡π™πΏπ™€π™€","πΎπ™ƒπΌπΌπ™","πΎπ™ƒπΌπ™’π™‰π™„π™„","π™‚π™ƒπ™πΏπ™€π™€","π™‹π™€π™€π™€","π™π™π™π™","π™π™€π™π™€π™€","π™‡π™πΏπ™€π™€","π™‹π™€π™€","π™π™€π™π™„",
           "π™πΌπΌ","π™†πΌπΌπΌ","π½π™π™π½π™","πΏπΌπ½πΌπ™πΌ π™ƒπ™", "π™π™€π™π™„", "π™πΌπΌ", "π™†π™„", "πΎπ™ƒπ™π™", "πΌπ™…πΌ", "π™π™€π™π™„", "π™πΌπΌ", "π™†π™„", "πΎπ™ƒπ™π™",
           "π™πΌπΌπΏ", "πΏπ™π™‰π™‚πΌ", "π™ƒπ™„π™…πΏπ™€", "π™π™€π™πΌ", "π½πΌπΌπ™‹","π™ƒπ™", "π™†π™„πΏπ™“π™“", "π™π™‹π™€π™€πΏ", "π™‹πΌπ™†πΌπΏ", "π½π™ƒπ™€π™‰ π™†π™€ π™‡πΌπ™πΏπ™€", "πΌπΌ π½π™€π™πΌ",
           "πΌπΌπ™‚π™”πΌ", "π™π™€π™π™„", "π™πΌπΌ ", "πΎπ™ƒπ™πΏπ™‰π™€","πΌπ½", "π™π™€π™π™„ ", "π™πΌπΌ", "πΎπ™ƒπ™πΏπ™€π™‚π™„", "π™†π™π™π™π™€", "π™†π™„", "π™πΌπ™πΌπ™ƒ", "π½π™€π™πΌ",
           "π™π™€π™π™„", "π™πΌπΌ", "π™†π™€", "π½π™ƒπ™π™πΏπ™€", "π™π™€", "π™…π½π™‡", "π™†π™€", "π™π™‹π™€πΌπ™†π™€π™", "πΏπΌπΌπ™‡", "π™†πΌπ™", "π½πΌπ™π™", "π½π™π™π™π™π™€πΏ", "π™π™π™‰π™‚",
           "π™π™π™‰π™π™‰π™‚πΌ", "π™‹π™π™π™„","π™πΌπΌπ™", "π™‡πΌπ™‚πΌπ™πΌπ™", "π™π™€π™π™„", "π™πΌπΌ", "π™†π™€", "π™πΌπ™π™ƒ", "π™π™€π™“", "π™†πΌπ™π™π™‰π™‚πΌπ”¥", "π™π™€π™π™„", "π™πΌπΌ", "π™†π™€",
           "π½π™π™π½π™","πΏπΌπ½πΌπ™π™‰π™‚πΌ","π™“π™“π™“","π™π™€π™π™„","π™πΌπΌ","π™†πΌπΌ","πΎπ™ƒπ™π™","π™πΌπ™π™","π™πΌπ™‰πΏπ™„","π™†π™€π™€","π™‹π™„π™‡π™€π™€","π™π™€π™π™„","π™πΌπΌ","π™†πΌπΌ","π½π™ƒπ™π™πΏπΌπΌ",
           "π™πΌπ™π™","π™π™πΌπ™","π™†π™€π™€","πΎπ™ƒπ™πΏπ™€","π™π™€π™π™„","π™πΌπΌπΌ","π™†π™€π™€π™€","π™‰π™πΏπ™€π™","π½π™€πΎπ™ƒπ™π™‰π™‚πΌ","π™πΌπ™‰πΏπ™„","π™†π™€π™€","π™‹π™„π™‡π™‡π™€","π™π™€π™π™„","π™πΌπΌπΌ",
           "πΎπ™ƒπ™πΏπ™","π™π™πΌπ™","π™†π™€π™€π™€","π™‹π™„π™‡π™€π™€","π™π™€π™π™„π™„π™„","π™πΌπΌπΌ","πΏπΌπ™„π™‡π™”π™”","πΎπ™ƒπ™πΏπ™π™π™„","π™ƒπΌπ™„π™„","π™πΌπΏπ™ƒπΌπ™πΎπ™ƒπ™πΏ","πΌπ™π™†πΌπ™","π½πΌπ™‰πΌπΌ",
           "π™‡π™πΏπ™€","π™π™€π™πΌπΌ","π½πΌπΌπ™‹","π™ƒπ™π™","π™π™€π™π™„","π™‚π™π™","π™†πΌπΌ","πΎπ™ƒπ™πΏ", "π™‚πΌπ™”πΌ", "π½πΌπΎπΎπ™ƒπΌ", "π½πΌπΌπ™‹ π™π™€",
           "πΌπ™π™†πΌπ™ π™π™€", "π™πΌπ™ƒπ™", "π™’πΌπ™π™‰πΌ", "π™πΌπΌ πΎπ™ƒπ™πΏ πΏπ™€π™‰π™‚π™€ π™π™π™πΌπ™π™„","π½π™ƒπ™π™πΏπΌπΌ","π™πΌπ™π™π™","π™πΌπΏπ™ƒπΌπ™πΎπ™ƒπ™πΏ","π™π™€π™π™„ ","π™‰πΌπ™‰πΌπ™„","π™†πΌπΌ",
           "πΎπ™ƒπ™π™π™","π™πΌπ™π™","π™π™€π™π™„π™„","π½π™€π™ƒπ™€π™‰","π™†πΌπΌπΌ","π½π™ƒπ™π™πΏπΌπΌ","π™πΌπ™π™","π™πΌπ™‰πΏπ™„π™„","π™†π™€π™€π™€","πΎπ™ƒπ™πΏπ™€","π™π™€π™π™„","πΏπΌπΏπ™„","π™†πΌπΌπΌ","π½π™π™π™",
           "π™‚πΌπ™πΌπ™","π™†πΌπ™π™","π™π™€π™π™€","π™‹π™π™π™€π™€","π™†π™ƒπΌπ™‰πΏπΌπ™‰","π™†π™π™π™","πΎπ™ƒπ™πΏπ™π™‰π™‚πΌπΌ","π½πΌπΌπ™‹","π™π™€π™€","π½πΌπ™†πΎπ™ƒπ™πΏπ™„","π™†πΌπ™π™€π™‚πΌπΌ","π™π™πΌπ™π™",
           "π™†π™€π™€π™€","π™‹π™„π™‡π™‡π™€π™€","π™‰πΌπΌπ™†","π™π™€π™€π™€","π™‰π™€π™πΌπΌ","π½πΌπΌπ™‹","π™†π™π™","π™†πΌπ½π™ƒπ™„π™„","π™‰πΌπΌπ™ƒ","π½π™π™‡π™‰πΌπΌ","π½π™€π™πΌπΌ","πΎπ™ƒπ™π™π™","π™‡π™€π™€π™€",
           "π™π™€π™πΌπΌ","π™‡π™πΏπΌπΌ","π™…πΌπ™„π™π™€","πΌπ™‡π™π™","π™†πΌπΌπΌ","π™‹πΌπ™†π™πΏπΌπΌ","π™π™€π™π™„","π™πΌπΌπΌ","π½π™€π™ƒπ™€π™‰","π™‚π™π™","π™‰πΌπ™‰π™„","πΏπ™„π™„π™‰","π™πΌπΌπ™","π™π™π™π™€π™€",
           "π™…πΌπ™‚π™π™€π™€","π™‹π™€π™‡π™πΌπΌ","π™ƒπ™π™π™","π™‡π™πΏπ™€π™€","πΎπ™ƒπΌπΌπ™","πΎπ™ƒπΌπ™’π™‰π™„π™„","π™‚π™ƒπ™πΏπ™€π™€","π™‹π™€π™€π™€","π™π™π™π™","π™π™€π™π™€π™€","π™‡π™πΏπ™€π™€","π™‹π™€π™€","π™π™€π™π™„",
           "π™πΌπΌ","π™†πΌπΌπΌ","π½π™π™π½π™","πΏπΌπ½πΌπ™πΌ π™ƒπ™", "π™π™€π™πΌ", "π½πΌπΌπ™‹", "π™ƒπ™", "π™†π™„πΏπ™“π™“", "π™π™‹π™€π™€πΏ", "π™‹πΌπ™†πΌπΏ", "π½π™ƒπ™€π™‰ π™†π™€ π™‡πΌπ™πΏπ™€",
           "πΌπΌ π½π™€π™πΌ", "πΌπΌπ™‚π™”πΌ", "π™π™€π™π™„", "π™πΌπΌ ", "πΎπ™ƒπ™πΏπ™‰π™€",
           "πΌπ½", "π™π™€π™π™„ ", "π™πΌπΌ", "πΎπ™ƒπ™πΏπ™€π™‚π™„", "π™†π™π™π™π™€", "π™†π™„", "π™πΌπ™πΌπ™ƒ", "π½π™€π™πΌ", "π™π™€π™π™„", "π™πΌπΌ", "π™†π™€", "π½π™ƒπ™π™πΏπ™€",
           "π™π™€", "π™…π½π™‡", "π™†π™€", "π™π™‹π™€πΌπ™†π™€π™", "πΏπΌπΌπ™‡", "π™†πΌπ™", "π½πΌπ™π™", "π½π™π™π™π™π™€πΏ", "π™π™π™‰π™‚", "π™π™π™‰π™π™‰π™‚πΌ", "π™‹π™π™π™„",
           "π™πΌπΌπ™", "π™‡πΌπ™‚πΌπ™πΌπ™", "π™π™€π™π™„", "π™πΌπΌ", "π™†π™€", "π™πΌπ™π™ƒ", "π™π™€π™“", "π™†πΌπ™π™π™‰π™‚πΌπ”¥", "πΎπ™ƒπ™πΏ", "π™‚πΌπ™”πΌ", "π½πΌπΎπΎπ™ƒπΌ", "π½πΌπΌπ™‹ π™π™€",
           "πΌπ™π™†πΌπ™ π™π™€", "π™πΌπ™ƒπ™", "π™’πΌπ™π™‰πΌ", "π™πΌπΌ πΎπ™ƒπ™πΏ πΏπ™€π™‰π™‚π™€ π™π™π™πΌπ™π™„"]


async def pyrone(client: Client, message: Message):
    chat_id = message.chat.id
    ruser = None

    if message.reply_to_message:
        ruser = message.reply_to_message.message_id
    
    try:
        for word in ONE_WORDS:
            await client.send_chat_action(chat_id, "typing")
            await client.send_message(chat_id, word, reply_to_message_id=ruser)
            await asyncio.sleep(0.3)
    except FloodWait:
        pass


async def restart(_, __):
    args = [sys.executable, "pyrone.py"]
    execle(sys.executable, *args, environ)


# ADDING HANDLERS

if M1:
    M1.add_handler(MessageHandler(pyrone, filters.command(["T3RI", "L0L", "AJA", "AAJA", "START"], prefixes=None) & filters.me))
    M1.add_handler(MessageHandler(restart, filters.command(["XD", "FARAR", "STOP", "FUCKED"], prefixes=None) & filters.me))

if M2:
    M2.add_handler(MessageHandler(pyrone, filters.command(["T3RI", "L0L", "AJA", "AAJA", "START"], prefixes=None) & filters.me))
    M2.add_handler(MessageHandler(restart, filters.command(["XD", "FARAR", "STOP", "FUCKED"], prefixes=None) & filters.me))

if M3:
    M3.add_handler(MessageHandler(pyrone, filters.command(["T3RI", "L0L", "AJA", "AAJA", "START"], prefixes=None) & filters.me))
    M3.add_handler(MessageHandler(restart, filters.command(["XD", "FARAR", "STOP", "FUCKED"], prefixes=None) & filters.me))

if M4:
    M4.add_handler(MessageHandler(pyrone, filters.command(["T3RI", "L0L", "AJA", "AAJA", "START"], prefixes=None) & filters.me))
    M4.add_handler(MessageHandler(restart, filters.command(["XD", "FARAR", "STOP", "FUCKED"], prefixes=None) & filters.me))

if M5:
    M5.add_handler(MessageHandler(pyrone, filters.command(["T3RI", "L0L", "AJA", "AAJA", "START"], prefixes=None) & filters.me))
    M5.add_handler(MessageHandler(restart, filters.command(["XD", "FARAR", "STOP", "FUCKED"], prefixes=None) & filters.me))


# STARTING CLIENTS

if M1:
    M1.start()
    M1.join_chat("TheAltron")

if M2:
    M2.start()
    M2.join_chat("TheAltron")

if M3:
    M3.start()
    M3.join_chat("TheAltron")

if M4:
    M4.start()
    M4.join_chat("TheAltron")

if M5:
    M5.start()
    M5.join_chat("TheAltron")

print("Pyrone Started Successfully")

idle()


# STOPPING CLIENTS

if M1:
    M1.stop()

if M2:
    M2.stop()

if M3:
    M3.stop()

if M4:
    M4.stop()

if M5:
    M5.stop()
